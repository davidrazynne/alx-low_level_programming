functions and nested loops for c